(this["webpackJsonpreact-study24-todo-styled-components-reduce-context-immer3"]=this["webpackJsonpreact-study24-todo-styled-components-reduce-context-immer3"]||[]).push([[0],{15:function(t,n,e){t.exports=e(23)},20:function(t,n,e){},23:function(t,n,e){"use strict";e.r(n);var r=e(0),o=e.n(r),c=e(10),u=e.n(c),a=(e(20),e(3)),i=e(1),l=e(2),f=e(5),s=e(7),d=function(t){return{type:"todos/SORT",show:t}},b=function(t,n,e){return{type:"todos/EDIT",id:t,name:n,value:e}},p={todos:[{id:1,tit:"\ub9ac\uc561\ud2b8 \uc5f0\uc2b51",done:!0},{id:2,tit:"\ub9ac\uc561\ud2b8 \uc5f0\uc2b52",done:!0},{id:3,tit:"\ub9ac\uc561\ud2b8 \uc5f0\uc2b53",done:!0},{id:4,tit:"\ub9ac\uc561\ud2b8 \uc5f0\uc2b54",done:!0},{id:5,tit:"\ub9ac\uc561\ud2b8 \uc5f0\uc2b55",done:!0},{id:6,tit:"\ub9ac\uc561\ud2b8 \uc5f0\uc2b56",done:!0},{id:7,tit:"\ub9ac\uc561\ud2b8 \uc5f0\uc2b57",done:!0}],sort:"incomplete"},m=function(t,n){switch(n.type){case"todos/CREATE":return Object(s.a)(t,(function(t){t.todos.push({id:n.nextId,tit:n.tit,done:!1})}));case"todos/REMOVE":return Object(f.a)({},t,{todos:t.todos.filter((function(t){return t.id!==n.id}))});case"todos/SORT":return console.log(n.show),Object(f.a)({},t,{sort:n.show});case"todos/EDIT":return Object(s.a)(t,(function(t){t.todos.find((function(t){return t.id===n.id}))[n.name]=n.value}));default:throw new Error("\uc5d0\ub7ec\ubc1c\uc0dd - \ud574\ub2f9\ud558\ub294 \uc561\uc158\ud0c0\uc785(".concat(n.type,")\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."))}},x=Object(r.createContext)(null),h=Object(r.createContext)(null),v=Object(r.createContext)(null),g=function(){return null===x?null:x},j=function(){return null===h?null:h};var O=function(t){var n=t.children,e=Object(r.useReducer)(m,p),c=Object(a.a)(e,2),u=c[0],i=c[1],l=Object(r.useRef)(0);return o.a.createElement(x.Provider,{value:u},o.a.createElement(h.Provider,{value:i},o.a.createElement(v.Provider,{value:l},n)))};function E(){var t=Object(i.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground-color: gold;\n"]);return E=function(){return t},t}var w=l.c.header(E());var y=o.a.memo((function(t){var n=t.children;return o.a.createElement(w,null,n)}));function k(){var t=Object(i.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 150px;\n\tfont-size: 30px;\n\ttext-align: right;\n"]);return k=function(){return t},t}function C(){var t=Object(i.a)(["display: block;"]);return C=function(){return t},t}function S(){var t=Object(i.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\twidth: 80px;\n\tmargin-left: 20px;\n"]);return S=function(){return t},t}function z(){var t=Object(i.a)(["font-weight: 600;"]);return z=function(){return t},t}function M(){var t=Object(i.a)(["\n\tdisplay: flex;\n\tmargin-top: 2px;\n"]);return M=function(){return t},t}function R(){var t=Object(i.a)(["\n\tdisplay: block;\n\tmargin-top: 16px;\n\tfont-size: 16px;\n"]);return R=function(){return t},t}function I(){var t=Object(i.a)(["flex: 1;"]);return I=function(){return t},t}function D(){var t=Object(i.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100px;\n\tfont-size: 48px;\n"]);return D=function(){return t},t}function H(){var t=Object(i.a)(["\n\tdisplay: flex;\n\theight: 70px;\n\tbackground-color: pink;\n"]);return H=function(){return t},t}var T=l.c.div(H()),A=l.c.h1(D()),P=l.c.p(I()),B=l.c.span(R()),F=l.c.span(M()),J=l.c.span(z()),L=l.c.time(S()),V=l.c.span(C()),W=l.c.h2(k());var N=function(t){var n=new Date,e=n.getDate(),c=n.toLocaleDateString("ko-kr",{year:"numeric"}),u=n.toLocaleDateString("ko-kr",{month:"long"}),i=Object(r.useState)(n.getHours()>=12?"PM":"AM"),l=Object(a.a)(i,2),s=l[0],d=l[1],b=Object(r.useCallback)((function(t){return("00"+t).substr(-2,2)}),[]),p=Object(r.useState)({hour:b("AM"===s?n.getHours():n.getHours()-12),min:b(n.getMinutes()),sec:b(n.getSeconds())}),m=Object(a.a)(p,2),x=m[0],h=m[1];Object(r.useEffect)((function(){setTimeout((function(){var t=new Date;t.getHours()>=12?d("PM"):d("AM"),h(Object(f.a)({},x,{hour:b("AM"===s?t.getHours():t.getHours()-12),min:b(t.getMinutes()),sec:b(t.getSeconds())}))}),1e3)}),[b,s,x]);var v=Object(r.useContext)(g()),j=Object(r.useMemo)((function(){return t=v.todos,"all"===(n=v.sort)?t.length:"complete"===n?t.filter((function(t){return t.done})).length:"incomplete"===n?t.filter((function(t){return!t.done})).length:void 0;var t,n}),[v]);return o.a.createElement(T,null,o.a.createElement(A,null,e,o.a.createElement("span",{className:"sr-only"},"\uc77c \ud560\uc77c")),o.a.createElement(P,null,o.a.createElement(B,null,c),o.a.createElement(F,null,o.a.createElement(J,null,u),o.a.createElement(L,null,x.hour,":",x.min,":",x.sec," ",o.a.createElement(V,null,s)))),o.a.createElement(W,null,"\ubaa8\ub450 ",j,"\uac1c"))},$=e(4);var q=function(t){var n=Object(r.useState)(""),e=Object(a.a)(n,2),o=e[0],c=e[1];return Object(r.useEffect)((function(){c(t)}),[t]),{text:o,fnChange:function(t){return c(t.target.value)},fnReset:function(){return c(t)}}};function G(){var t=Object(i.a)(["\n\tborder: none;\n\toutline: none;\n\tbackground: none;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tposition: absolute;\n\tright: 18px;\n\ttop: 18px;\n\twidth: 24px;\n\theight: 24px;\n\tcolor: #fff;\n\tfont-size: 20px;\n\tbackground-color: gold;\n\tborder-radius: 50%;\n\tcursor: pointer;\n"]);return G=function(){return t},t}function K(){var t=Object(i.a)(["\n\tborder: none;\n\toutline: none;\n\tbackground: none;\n\tflex: 1;\n\theight: 30px;\n\tpadding: 0 15px;\n\tfont-size: 12px;\n\tbackground-color: #fff;\n\tborder-radius: 15px;\n\tbox-sizing: border-box;\n"]);return K=function(){return t},t}function Q(){var t=Object(i.a)(["\n\tposition: relative;\n\tpadding: 15px;\n\tdisplay: flex;\n"]);return Q=function(){return t},t}var U=l.c.form(Q()),X=l.c.input(K()),Y=l.c.button(G());var Z=function(t){var n=q(""),e=n.text,c=n.fnChange,u=n.fnReset,a=Object(r.useRef)(),i=Object(r.useContext)(j()),l=Object(r.useContext)(null===v?null:v);return o.a.createElement(U,{onSubmit:function(t){t.preventDefault(),e&&(i(function(t,n){return{type:"todos/CREATE",nextId:t,tit:n}}(l.current++,e)),u(),a.current.focus())}},o.a.createElement(X,{ref:a,value:e,onChange:c,autoFocus:!0}),o.a.createElement(Y,null,o.a.createElement($.a,null)))};function _(){var t=Object(i.a)(["\n\tborder: none;\n\toutline: none;\n\tbackground: none;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tposition: absolute;\n\tright: 18px;\n\ttop: 18px;\n\twidth: 24px;\n\theight: 24px;\n\tcolor: #fff;\n\tfont-size: 20px;\n\tbackground-color: pink;\n\tborder-radius: 50%;\n\tcursor: pointer;\n"]);return _=function(){return t},t}function tt(){var t=Object(i.a)(["\n\tborder: none;\n\toutline: none;\n\tbackground: none;\n\tflex: 1;\n\theight: 30px;\n\tpadding: 0 15px;\n\tfont-size: 12px;\n\tbackground-color: #fff;\n\tborder-radius: 15px;\n\tbox-sizing: border-box;\n"]);return tt=function(){return t},t}function nt(){var t=Object(i.a)(["\n\tposition: relative;\n\tpadding: 15px;\n\tdisplay: flex;\n"]);return nt=function(){return t},t}var et=l.c.form(nt()),rt=l.c.input(tt()),ot=l.c.button(_());var ct=function(t){var n=t.editId,e=t.fnChoice,c=Object(r.useContext)(g()),u=Object(r.useContext)(j()),a=c.todos.filter((function(t){return t.id===n}))[0],i=q(a.tit),l=i.text,f=i.fnChange,s=i.fnReset;return o.a.createElement(et,{onSubmit:function(t){t.preventDefault(),u(b(n,"tit",l)),e(!0),s()}},o.a.createElement(rt,{value:l,onChange:f,autoFocus:!0}),o.a.createElement(ot,null,o.a.createElement($.a,null)))};function ut(){var t=Object(i.a)(["height: 100%;"]);return ut=function(){return t},t}var at=l.c.section(ut());var it=function(t){var n=t.children;return o.a.createElement(at,null,n)};function lt(){var t=Object(i.a)(["width:40px;font-size:20px;"]);return lt=function(){return t},t}function ft(){var t=Object(i.a)(["width:40px;font-size:20px;"]);return ft=function(){return t},t}function st(){var t=Object(i.a)(["\n\tflex: 1;\n\theight: 70px;\n\tline-height: 70px;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\t",";\n"]);return st=function(){return t},t}function dt(){var t=Object(i.a)([""]);return dt=function(){return t},t}function bt(){var t=Object(i.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: stretch;\n\twidth: 50px;\n\tfont-size: 25px;\n\tcursor: pointer;\n\n\t&:hover {\n\t\tcolor: #ff4562;\n\t}\n"]);return bt=function(){return t},t}function pt(){var t=Object(i.a)(["\n\tdisplay: flex;\n\theight: 70px;\n\talign-items: center;\n\tborder-bottom: 1px solid #555;\n"]);return pt=function(){return t},t}var mt=l.c.li(pt()),xt=l.c.span(bt()),ht=Object(l.c)(xt)(dt()),vt=l.c.h3(st(),(function(t){return t.done&&"color:#dedede;text-decoration:line-through;"})),gt=Object(l.c)(xt)(ft()),jt=Object(l.c)(xt)(lt());var Ot=function(t){var n=t.todo,e=t.fnChoice,c=t.fnEditId,u=n.id,a=n.tit,i=n.done,l=Object(r.useContext)(j());return o.a.createElement(mt,null,o.a.createElement(ht,{onClick:function(){return l(b(u,"done",!i))}},i?o.a.createElement($.c,null):o.a.createElement($.d,null)),o.a.createElement(vt,{done:i,onClick:function(){return l(b(u,"done",!i))}},a),o.a.createElement(gt,{onClick:function(){e(!1),c(u)}},o.a.createElement($.b,null)),o.a.createElement(jt,{onClick:function(){e(!0),l(function(t){return{type:"todos/REMOVE",id:t}}(u))}},o.a.createElement($.e,null)))};function Et(){var t=Object(i.a)(["\n\toverflow-y: scroll;\n\tposition: absolute;\n\tright: -17px;\n\theight: calc(100% - 210px);\n\twidth: calc(100% + 17px);\n"]);return Et=function(){return t},t}var wt=l.c.ul(Et());var yt=function(t){var n=t.fnChoice,e=t.fnEditId,c=Object(r.useContext)(g()),u=c.todos,a=null;switch(c.sort){case"all":a=u;break;case"complete":a=u.filter((function(t){return t.done}));break;case"incomplete":a=u.filter((function(t){return!t.done}));break;default:return u}return o.a.createElement(wt,null,a.map((function(t){return o.a.createElement(Ot,{key:t.id,todo:t,fnChoice:n,fnEditId:e})})))};function kt(){var t=Object(i.a)(["\n  background-color:gold;\n"]);return kt=function(){return t},t}function Ct(){var t=Object(i.a)(["",""]);return Ct=function(){return t},t}function St(){var t=Object(i.a)(["\n  background-color:gold;\n"]);return St=function(){return t},t}function zt(){var t=Object(i.a)(["",""]);return zt=function(){return t},t}function Mt(){var t=Object(i.a)(["\n  background-color:gold;\n"]);return Mt=function(){return t},t}function Rt(){var t=Object(i.a)(["",""]);return Rt=function(){return t},t}function It(){var t=Object(i.a)(["\n\tbackground: none;\n\toutline: none;\n\tborder: none;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding: 5px 10px;\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tborder: 1px solid #333;\n\tborder-radius: 15px;\n\tcursor: pointer;\n"]);return It=function(){return t},t}function Dt(){var t=Object(i.a)(["\n\tdisplay: flex;\n\tjustify-content: space-around;\n\talign-items: center;\n\tposition: absolute;\n\tleft: 0;\n\tbottom: 0;\n\twidth: 100%;\n\theight: 80px;\n\tpadding: 0 15px;\n\tbackground-color: #fff;\n\tborder-top: 1px solid #555;\n"]);return Dt=function(){return t},t}var Ht=l.c.footer(Dt()),Tt=l.c.button(It()),At=Object(l.c)(Tt)(Rt(),(function(t){return"all"===t.show&&Object(l.b)(Mt())})),Pt=Object(l.c)(Tt)(zt(),(function(t){return"complete"===t.show&&Object(l.b)(St())})),Bt=Object(l.c)(Tt)(Ct(),(function(t){return"incomplete"===t.show&&Object(l.b)(kt())}));var Ft=function(t){var n=Object(r.useState)("incomplete"),e=Object(a.a)(n,2),c=e[0],u=e[1],i=Object(r.useContext)(j());return o.a.createElement(Ht,null,o.a.createElement(Bt,{show:c,onClick:function(){u("incomplete"),i(d("incomplete"))}},"\ud574\uc57c\ud560\uc77c"),o.a.createElement(Pt,{show:c,onClick:function(){u("complete"),i(d("complete"))}},"\ubbf8\uc158\uc644\ub8cc"),o.a.createElement(At,{show:c,onClick:function(){u("all"),i(d("all"))}},"\uc804\uccb4\ubcf4\uae30"))};function Jt(){var t=Object(i.a)(["\n\t\theight:","px\n\t"]);return Jt=function(){return t},t}function Lt(){var t=Object(i.a)(["\n\toverflow: hidden;\n\tposition: relative;\n\tmax-width: 640px;\n\tmargin: 0 auto;\n\tborder: 1px solid #333;\n\tborder-radius: 0 0 15px 15px;\n\t",";\n"]);return Lt=function(){return t},t}function Vt(){var t=Object(i.a)(["\n    *{margin:0;padding:0;}\n    ul,ol,li{list-style:none;}\n    a:link,a:hover,a:visited,a:active{text-decoration:none;}\n    body{color:#333;font-size:14px;}\n    .sr-only{position:absolute;left:-9999px;}\n  "]);return Vt=function(){return t},t}var Wt=Object(l.a)(Vt()),Nt=l.c.div(Lt(),(function(t){return t.height&&Object(l.b)(Jt(),t.height)}));var $t=function(t){var n=Object(r.useState)(!0),e=Object(a.a)(n,2),c=e[0],u=e[1],i=function(t){u(t)},l=Object(r.useState)(null),f=Object(a.a)(l,2),s=f[0],d=f[1],b=Object(r.useState)(),p=Object(a.a)(b,2),m=p[0],x=p[1];return Object(r.useEffect)((function(){x(window.innerHeight)}),[]),o.a.createElement(O,null,o.a.createElement(Wt,null),o.a.createElement(Nt,{height:m},o.a.createElement(y,null,o.a.createElement(N,null),c?o.a.createElement(Z,null):o.a.createElement(ct,{editId:s,fnChoice:i})),o.a.createElement(it,null,o.a.createElement(yt,{fnChoice:i,fnEditId:function(t){return d(t)}})),o.a.createElement(Ft,null)))};var qt=function(t){return o.a.createElement($t,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(qt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.690405fb.chunk.js.map