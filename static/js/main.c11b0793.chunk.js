(this["webpackJsonpreact-study24-todo-styled-components-reduce-context-immer3"]=this["webpackJsonpreact-study24-todo-styled-components-reduce-context-immer3"]||[]).push([[0],{15:function(n,t,e){n.exports=e(23)},20:function(n,t,e){},23:function(n,t,e){"use strict";e.r(t);var r=e(0),o=e.n(r),c=e(10),u=e.n(c),a=(e(20),e(3)),i=e(1),l=e(2),f=e(5),s=e(7),d=function(n){return{type:"todos/SORT",show:n}},b=function(n,t,e){return{type:"todos/EDIT",id:n,name:t,value:e}},p={todos:[],sort:"incomplete"},m=function(n,t){switch(t.type){case"todos/CREATE":return Object(s.a)(n,(function(n){n.todos.push({id:t.nextId,tit:t.tit,done:!1})}));case"todos/REMOVE":return Object(f.a)({},n,{todos:n.todos.filter((function(n){return n.id!==t.id}))});case"todos/SORT":return console.log(t.show),Object(f.a)({},n,{sort:t.show});case"todos/EDIT":return Object(s.a)(n,(function(n){n.todos.find((function(n){return n.id===t.id}))[t.name]=t.value}));default:throw new Error("\uc5d0\ub7ec\ubc1c\uc0dd - \ud574\ub2f9\ud558\ub294 \uc561\uc158\ud0c0\uc785(".concat(t.type,")\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."))}},v=Object(r.createContext)(null),x=Object(r.createContext)(null),j=Object(r.createContext)(null),g=function(){return null===v?null:v},h=function(){return null===x?null:x};var O=function(n){var t=n.children,e=Object(r.useReducer)(m,p),c=Object(a.a)(e,2),u=c[0],i=c[1],l=Object(r.useRef)(0);return o.a.createElement(v.Provider,{value:u},o.a.createElement(x.Provider,{value:i},o.a.createElement(j.Provider,{value:l},t)))};function E(){var n=Object(i.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground-color: gold;\n"]);return E=function(){return n},n}var y=l.c.header(E());var k=o.a.memo((function(n){var t=n.children;return o.a.createElement(y,null,t)}));function w(){var n=Object(i.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 150px;\n\tfont-size: 30px;\n\ttext-align: right;\n"]);return w=function(){return n},n}function C(){var n=Object(i.a)(["display: block;"]);return C=function(){return n},n}function S(){var n=Object(i.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\twidth: 80px;\n\tmargin-left: 20px;\n"]);return S=function(){return n},n}function z(){var n=Object(i.a)(["font-weight: 600;"]);return z=function(){return n},n}function M(){var n=Object(i.a)(["\n\tdisplay: flex;\n\tmargin-top: 2px;\n"]);return M=function(){return n},n}function R(){var n=Object(i.a)(["\n\tdisplay: block;\n\tmargin-top: 16px;\n\tfont-size: 16px;\n"]);return R=function(){return n},n}function I(){var n=Object(i.a)(["flex: 1;"]);return I=function(){return n},n}function D(){var n=Object(i.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100px;\n\tfont-size: 48px;\n"]);return D=function(){return n},n}function T(){var n=Object(i.a)(["\n\tdisplay: flex;\n\theight: 70px;\n\tbackground-color: pink;\n"]);return T=function(){return n},n}var A=l.c.div(T()),H=l.c.h1(D()),P=l.c.p(I()),B=l.c.span(R()),F=l.c.span(M()),J=l.c.span(z()),L=l.c.time(S()),V=l.c.span(C()),W=l.c.h2(w());var N=function(n){var t=new Date,e=t.getDate(),c=t.toLocaleDateString("ko-kr",{year:"numeric"}),u=t.toLocaleDateString("ko-kr",{month:"long"}),i=Object(r.useState)(t.getHours()>=12?"PM":"AM"),l=Object(a.a)(i,2),s=l[0],d=l[1],b=Object(r.useCallback)((function(n){return("00"+n).substr(-2,2)}),[]),p=Object(r.useState)({hour:b("AM"===s?t.getHours():t.getHours()-12),min:b(t.getMinutes()),sec:b(t.getSeconds())}),m=Object(a.a)(p,2),v=m[0],x=m[1];Object(r.useEffect)((function(){setTimeout((function(){var n=new Date;n.getHours()>=12?d("PM"):d("AM"),x(Object(f.a)({},v,{hour:b("AM"===s?n.getHours():n.getHours()-12),min:b(n.getMinutes()),sec:b(n.getSeconds())}))}),1e3)}),[b,s,v]);var j=Object(r.useContext)(g()),h=Object(r.useMemo)((function(){return n=j.todos,"all"===(t=j.sort)?n.length:"complete"===t?n.filter((function(n){return n.done})).length:"incomplete"===t?n.filter((function(n){return!n.done})).length:void 0;var n,t}),[j]);return o.a.createElement(A,null,o.a.createElement(H,null,e,o.a.createElement("span",{className:"sr-only"},"\uc77c \ud560\uc77c")),o.a.createElement(P,null,o.a.createElement(B,null,c),o.a.createElement(F,null,o.a.createElement(J,null,u),o.a.createElement(L,null,v.hour,":",v.min,":",v.sec," ",o.a.createElement(V,null,s)))),o.a.createElement(W,null,"\ubaa8\ub450 ",h,"\uac1c"))},$=e(4);var q=function(n){var t=Object(r.useState)(""),e=Object(a.a)(t,2),o=e[0],c=e[1];return Object(r.useEffect)((function(){c(n)}),[n]),{text:o,fnChange:function(n){return c(n.target.value)},fnReset:function(){return c(n)}}};function G(){var n=Object(i.a)(["\n\tborder: none;\n\toutline: none;\n\tbackground: none;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tposition: absolute;\n\tright: 18px;\n\ttop: 18px;\n\twidth: 24px;\n\theight: 24px;\n\tcolor: #fff;\n\tfont-size: 20px;\n\tbackground-color: gold;\n\tborder-radius: 50%;\n\tcursor: pointer;\n"]);return G=function(){return n},n}function K(){var n=Object(i.a)(["\n\tborder: none;\n\toutline: none;\n\tbackground: none;\n\tflex: 1;\n\theight: 30px;\n\tpadding: 0 15px;\n\tfont-size: 12px;\n\tbackground-color: #fff;\n\tborder-radius: 15px;\n\tbox-sizing: border-box;\n"]);return K=function(){return n},n}function Q(){var n=Object(i.a)(["\n\tposition: relative;\n\tpadding: 15px;\n\tdisplay: flex;\n"]);return Q=function(){return n},n}var U=l.c.form(Q()),X=l.c.input(K()),Y=l.c.button(G());var Z=function(n){var t=q(""),e=t.text,c=t.fnChange,u=t.fnReset,a=Object(r.useRef)(),i=Object(r.useContext)(h()),l=Object(r.useContext)(null===j?null:j);return o.a.createElement(U,{onSubmit:function(n){n.preventDefault(),i(function(n,t){return{type:"todos/CREATE",nextId:n,tit:t}}(l.current++,e)),u(),a.current.focus()}},o.a.createElement(X,{ref:a,value:e,onChange:c,autoFocus:!0}),o.a.createElement(Y,null,o.a.createElement($.a,null)))};function _(){var n=Object(i.a)(["\n\tborder: none;\n\toutline: none;\n\tbackground: none;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tposition: absolute;\n\tright: 18px;\n\ttop: 18px;\n\twidth: 24px;\n\theight: 24px;\n\tcolor: #fff;\n\tfont-size: 20px;\n\tbackground-color: pink;\n\tborder-radius: 50%;\n\tcursor: pointer;\n"]);return _=function(){return n},n}function nn(){var n=Object(i.a)(["\n\tborder: none;\n\toutline: none;\n\tbackground: none;\n\tflex: 1;\n\theight: 30px;\n\tpadding: 0 15px;\n\tfont-size: 12px;\n\tbackground-color: #fff;\n\tborder-radius: 15px;\n\tbox-sizing: border-box;\n"]);return nn=function(){return n},n}function tn(){var n=Object(i.a)(["\n\tposition: relative;\n\tpadding: 15px;\n\tdisplay: flex;\n"]);return tn=function(){return n},n}var en=l.c.form(tn()),rn=l.c.input(nn()),on=l.c.button(_());var cn=function(n){var t=n.editId,e=n.fnChoice,c=Object(r.useContext)(g()),u=Object(r.useContext)(h()),a=c.todos.filter((function(n){return n.id===t}))[0],i=q(a.tit),l=i.text,f=i.fnChange,s=i.fnReset;return o.a.createElement(en,{onSubmit:function(n){n.preventDefault(),u(b(t,"tit",l)),e(!0),s()}},o.a.createElement(rn,{value:l,onChange:f,autoFocus:!0}),o.a.createElement(on,null,o.a.createElement($.a,null)))};function un(){var n=Object(i.a)([""]);return un=function(){return n},n}var an=l.c.section(un());var ln=function(n){var t=n.children;return o.a.createElement(an,null,t)};function fn(){var n=Object(i.a)(["width:40px;font-size:20px;"]);return fn=function(){return n},n}function sn(){var n=Object(i.a)(["width:40px;font-size:20px;"]);return sn=function(){return n},n}function dn(){var n=Object(i.a)(["\n\tflex: 1;\n\theight: 70px;\n\tline-height: 70px;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\t",";\n"]);return dn=function(){return n},n}function bn(){var n=Object(i.a)([""]);return bn=function(){return n},n}function pn(){var n=Object(i.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: stretch;\n\twidth: 50px;\n\tfont-size: 25px;\n\tcursor: pointer;\n\n\t&:hover {\n\t\tcolor: #345343;\n\t}\n"]);return pn=function(){return n},n}function mn(){var n=Object(i.a)(["\n\tdisplay: flex;\n\theight: 70px;\n\talign-items: center;\n\tborder-bottom: 1px solid #555;\n"]);return mn=function(){return n},n}var vn=l.c.li(mn()),xn=l.c.span(pn()),jn=Object(l.c)(xn)(bn()),gn=l.c.h3(dn(),(function(n){return n.done&&"color:#dedede;text-decoration:line-through;"})),hn=Object(l.c)(xn)(sn()),On=Object(l.c)(xn)(fn());var En=function(n){var t=n.todo,e=n.fnChoice,c=n.fnEditId,u=t.id,a=t.tit,i=t.done,l=Object(r.useContext)(h());return o.a.createElement(vn,null,o.a.createElement(jn,{onClick:function(){return l(b(u,"done",!i))}},i?o.a.createElement($.c,null):o.a.createElement($.d,null)),o.a.createElement(gn,{done:i,onClick:function(){return l(b(u,"done",!i))}},a),o.a.createElement(hn,{onClick:function(){e(!1),c(u)}},o.a.createElement($.b,null)),o.a.createElement(On,{onClick:function(){e(!0),l(function(n){return{type:"todos/REMOVE",id:n}}(u))}},o.a.createElement($.e,null)))};function yn(){var n=Object(i.a)([""]);return yn=function(){return n},n}var kn=l.c.ul(yn());var wn=function(n){var t=n.fnChoice,e=n.fnEditId,c=Object(r.useContext)(g()),u=c.todos,a=null;switch(c.sort){case"all":a=u;break;case"complete":a=u.filter((function(n){return n.done}));break;case"incomplete":a=u.filter((function(n){return!n.done}));break;default:return u}return o.a.createElement(kn,null,a.map((function(n){return o.a.createElement(En,{key:n.id,todo:n,fnChoice:t,fnEditId:e})})))};function Cn(){var n=Object(i.a)(["\n  background-color:gold;\n"]);return Cn=function(){return n},n}function Sn(){var n=Object(i.a)(["",""]);return Sn=function(){return n},n}function zn(){var n=Object(i.a)(["\n  background-color:gold;\n"]);return zn=function(){return n},n}function Mn(){var n=Object(i.a)(["",""]);return Mn=function(){return n},n}function Rn(){var n=Object(i.a)(["\n  background-color:gold;\n"]);return Rn=function(){return n},n}function In(){var n=Object(i.a)(["",""]);return In=function(){return n},n}function Dn(){var n=Object(i.a)(["\n\tbackground: none;\n\toutline: none;\n\tborder: none;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding: 5px 10px;\n\tfont-size: 14px;\n\tfont-weight: 600;\n\tborder: 1px solid #333;\n\tborder-radius: 15px;\n\tcursor: pointer;\n"]);return Dn=function(){return n},n}function Tn(){var n=Object(i.a)(["\n\tdisplay: flex;\n\tjustify-content: space-around;\n\talign-items: center;\n\tpadding: 15px;\n"]);return Tn=function(){return n},n}var An=l.c.footer(Tn()),Hn=l.c.button(Dn()),Pn=Object(l.c)(Hn)(In(),(function(n){return"all"===n.show&&Object(l.b)(Rn())})),Bn=Object(l.c)(Hn)(Mn(),(function(n){return"complete"===n.show&&Object(l.b)(zn())})),Fn=Object(l.c)(Hn)(Sn(),(function(n){return"incomplete"===n.show&&Object(l.b)(Cn())}));var Jn=function(n){var t=Object(r.useState)("incomplete"),e=Object(a.a)(t,2),c=e[0],u=e[1],i=Object(r.useContext)(h());return o.a.createElement(An,null,o.a.createElement(Fn,{show:c,onClick:function(){u("incomplete"),i(d("incomplete"))}},"\ud574\uc57c\ud560\uc77c"),o.a.createElement(Bn,{show:c,onClick:function(){u("complete"),i(d("complete"))}},"\ubbf8\uc158\uc644\ub8cc"),o.a.createElement(Pn,{show:c,onClick:function(){u("all"),i(d("all"))}},"\uc804\uccb4\ubcf4\uae30"))};function Ln(){var n=Object(i.a)(["\n    *{margin:0;padding:0;}\n    ul,ol,li{list-style:none;}\n    a:link,a:hover,a:visited,a:active{text-decoration:none;}\n    body{color:#333;font-size:14px;}\n    .sr-only{position:absolute;left:-9999px;}\n  "]);return Ln=function(){return n},n}function Vn(){var n=Object(i.a)(["\n\tposition: relative;\n\tmax-width: 640px;\n\tmargin: 0 auto;\n\tborder: 1px solid #333;\n\tborder-radius: 0 0 15px 15px;\n"]);return Vn=function(){return n},n}var Wn=l.c.div(Vn()),Nn=Object(l.a)(Ln());var $n=function(n){var t=Object(r.useState)(!0),e=Object(a.a)(t,2),c=e[0],u=e[1],i=function(n){u(n)},l=Object(r.useState)(null),f=Object(a.a)(l,2),s=f[0],d=f[1];return o.a.createElement(O,null,o.a.createElement(Nn,null),o.a.createElement(Wn,null,o.a.createElement(k,null,o.a.createElement(N,null),c?o.a.createElement(Z,null):o.a.createElement(cn,{editId:s,fnChoice:i})),o.a.createElement(ln,null,o.a.createElement(wn,{fnChoice:i,fnEditId:function(n){return d(n)}})),o.a.createElement(Jn,null)))};var qn=function(n){return o.a.createElement($n,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(qn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.c11b0793.chunk.js.map